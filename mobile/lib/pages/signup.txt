import 'dart:html';

import 'package:flutter/material.dart';
import 'package:http/http.dart' as http;
import '../datamodel.dart';

class Signup extends StatefulWidget {
  const Signup({Key? key}) : super(key: key);

  @override
  State<Signup> createState() => _SignupState();
}

class _SignupState extends State<Signup> {
  @override
  Widget build(BuildContext context) {
    DataModel? _dataModel;
    TextEditingController nameController = TextEditingController();
    TextEditingController roleController = TextEditingController();
    TextEditingController emailController = TextEditingController();
    TextEditingController passwordController = TextEditingController();
    TextEditingController repeatedPasswordController = TextEditingController();

    // String? name;
    // String? role;
    // String? email;
    // String? password;

    Future<DataModel?> submitData(
        String name, String role, String email, String password) async {
      var response =
          await http.post(Uri.https('reqres.in', '/api/users'), body: {
        "name": name,
        "role": role,
        "email": email,
        "password": password,
      });
      var data = response.body;
      print(data);

      if (response.statusCode == 201) {
        String responseString = response.body;
        dataModelFromJson(responseString);
      } else {
        return null;
      }
    }

    return Padding(
      padding: const EdgeInsets.all(10),
      child: ListView(children: <Widget>[
        Container(
          alignment: Alignment.center,
          padding: const EdgeInsets.fromLTRB(20, 50, 20, 5),
          child: Image.asset(
            'assets/logo.png',
            width: 150,
            height: 150,
          ),
        ),
        SizedBox(height: 20.0),
        Container(
          alignment: Alignment.center,
          padding: const EdgeInsets.all(10),
          // child: const Text(
          //   'Sign in',
          //   style: TextStyle(fontSize: 20),
          // )
        ),
        Container(
          padding: const EdgeInsets.fromLTRB(30, 5, 30, 5),
          child: TextField(
            controller: nameController,
            decoration: InputDecoration(
              filled: true,
              fillColor: Color(0xFFF5F5F5),
              enabledBorder: OutlineInputBorder(
                borderSide: BorderSide(
                  color: Color(0xFFE4E4E4),
                ),
                borderRadius: BorderRadius.circular(10.0),
              ),
              focusedBorder: OutlineInputBorder(
                borderSide: BorderSide(
                  color: Color(0xFF2CACE7),
                ),
                borderRadius: BorderRadius.circular(10.0),
              ),
              labelText: 'name',
              labelStyle: TextStyle(
                color: Color(0xFFAEAEAE),
                fontWeight: FontWeight.bold,
              ),
            ),
          ),
        ),
      ]),
    );
  }
}
